<html lang="cs"><head>
  <link rel="stylesheet" href="style.css"><meta charset="UTF-8">
  <title>Pokroƒçil√Ω v√°hov√Ω tracker v√≠ce admir√°la Ji≈ô√≠ka</title>
   <script src="favicon-loader.js" defer=""></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.23/jspdf.plugin.autotable.min.js"></script>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>

<!-- Tvoje funkce (inicializace mus√≠ b√Ωt zde) -->
<script src="firebaseFunctions.js"></script>

<!-- POSLEDN√ç ‚Äì funkce co pou≈æ√≠vaj√≠ Firebase -->
<script src="auth.js"></script>
 <script src="jirkuv-hlidac.js"></script> 

<!-- Manifest (PWA) -->
<link rel="manifest" href="manifest.json">
 
</head>
<body>
  <div class="container">
    <h1>üññ Pokroƒçil√Ω v√°hov√Ω tracker v√≠ce admir√°la Ji≈ô√≠ka</h1>
    
    <div class="notification" id="notification"></div>
    <div class="alert" id="bmiAlert"></div>
    
    <div class="tabs">
      <div class="tab active" onclick="showTab('dashboard')">Dashboard</div>
      <div class="tab" onclick="showTab('add-entry')">Nov√Ω z√°znam</div>
      <div class="tab" onclick="showTab('goals')">C√≠le</div>
      <div class="tab" onclick="showTab('settings')">Nastaven√≠</div>
      <div class="tab" onclick="showTab('export')">Export/Import</div>
      <button id="jirik-manual-opener-btn">üßæ</button>
    </div>
<!-- Login sekce -->
<div id="login-section">
  <h2>P≈ôihl√°≈°en√≠</h2>
 <!-- <input type="email" id="email" placeholder="Email">-->
 <!-- <input type="password" id="password" placeholder="Heslo">-->
 <!-- <button id="login-button">P≈ôihl√°sit</button>-->
    <p> timto tlaƒç√≠tkem se p≈ô√≠hlas√≠te p≈ôes svuj √∫ƒçet na Googlu a t√≠m se i naƒçtou va≈°e ulo≈æen√° data. </p>
   <button id="google-login-button">P≈ôihl√°sit p≈ôes Google</button>
</div>

<!-- Warpov√Ω dashboard pro p≈ôihl√°≈°en√© -->
<div id="dashboard-section" style="display: none;">
  <h2>V√≠tej, <span id="user-name">veliteli</span>!</h2>
  <button id="logout-button">Odhl√°sit</button>
</div>

  <!-- Sem d√°me tv≈Øj obsah pro u≈æivatele -->
  <div id="warp-data-container">
    <!-- v√°hov√© z√°znamy, grafy, atd. -->
  </div>
</div>


    <div id="dashboard" class="tab-content active">
      <div class="stats">
        <div class="stat-item">
          <div class="stat-value" id="currentWeight">-</div>
          <div class="stat-label">Aktu√°ln√≠ v√°ha (kg)</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="currentBMI">-</div>
          <div class="stat-label">Aktu√°ln√≠ BMI</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="weightChange">-</div>
          <div class="stat-label">Zmƒõna v√°hy (kg)</div>
        </div>
         <div class="stat-item">
          <div class="stat-value" id="currentBodyWater">-</div>
          <div class="stat-label">Voda v tƒõle (%)</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="lastManualBMR">-</div>
          <div class="stat-label">Posl. zadan√Ω BMR</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="lastManualAMR">-</div>
          <div class="stat-label">Posl. zadan√Ω AMR</div>
        </div>
         <div class="stat-item">
          <div class="stat-value" id="theoreticalBMR">-</div>
          <div class="stat-label">Teoretick√Ω BMR</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="theoreticalAMR">-</div>
          <div class="stat-label">Teoretick√Ω AMR</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="goalProgress">-</div>
          <div class="stat-label">Pokrok k c√≠li (%)</div>
        </div>
      </div>

      <div id="goalProgressBarCard" class="card" style="display:none; margin-bottom: 20px;">
        <h3>Pokrok k c√≠li</h3>
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill"></div>
        </div>
        <div id="goalStatus" style="text-align: center; margin-top: 10px; color: #00d9ff;"></div>
        <div id="goalEstimate" class="stat-subtext" style="text-align: center; margin-top: 5px; color: #ccc;">Odhad: ...</div>
        <div id="latestEntryDate" style="text-align: center; margin-top: 5px; font-size: 0.9em; color: #aaa;"></div>
      </div>

      <div class="charts-container" style="background: transparent;">
        <div class="chart-card" style="background: #B22222;">
          <h3>V√Ωvoj v√°hy</h3> 
          <canvas id="weightChart" style="background: #B22222;"></canvas>
        </div>
        <div class="chart-card" style="background: #A0522D;">
          <h3>V√Ωvoj BMI</h3>
          <canvas id="bmiChart" style="background: #A0522D;"></canvas>
        </div>
        <div class="chart-card" style="background: #4B0082;">
          <h3>V√Ωvoj tƒõlesn√©ho tuku (%)</h3>
          <canvas id="bodyFatOnlyChart" style="background: #4B0082;"></canvas>
        </div>
        <div class="chart-card" style="background: #006400;">
          <h3>V√Ωvoj svalov√© hmoty (%)</h3> 
            <canvas id="muscleMassOnlyChart" style="background: #006400;"></canvas>
        </div>
         <div class="chart-card" style="background: #00008B;">
          <h3>V√Ωvoj vody v tƒõle</h3>
          <canvas id="bodyWaterChart" style="background: #00008B;"></canvas>
        </div>
        <div class="chart-card" style="background: #993300;"> 
          <h3>V√Ωvoj zadan√©ho BMR (kcal)</h3>
          <canvas id="manualBMRChart" style="background: #993300;"></canvas>
        </div>
        <div class="chart-card" style="background: #8B0000;">
          <h3>V√Ωvoj zadan√©ho AMR (kcal)</h3>
          <canvas id="manualAMRChart" style="background: #8B0000;"></canvas>
        </div>
      </div>

      <table>
        <thead>
          <tr>
            <th>#</th>
            <th>Datum</th>
            <th>V√°ha</th>
            <th>Rozd√≠l</th>
            <th>BMI</th>
            <th>Klasif.</th>
            <th>Tuk%</th>
            <th>Svaly (%)</th> <th>Voda%</th>
            <th>Zad. BMR</th>
            <th>Zad. AMR</th>
            <th>Pozn.</th>
            <th>Akce</th>
          </tr>
        </thead>
        <tbody id="tableBody"></tbody>
      </table>
    </div>

    <div id="add-entry" class="tab-content">
      <div class="card">
        <h3>P≈ôidat nov√Ω z√°znam</h3>
        <form id="entryForm">
          <div class="form-group">
            <label for="entryDate">Datum:</label>
            <input type="date" id="entryDate" required="">
          </div>
          <div class="form-group">
            <label for="entryWeight">V√°ha (kg):</label>
            <input type="number" id="entryWeight" step="0.1" required="">
          </div>
          <div class="form-group">
            <label for="entryBodyFat">Tƒõlesn√Ω tuk (%):</label>
            <input type="number" id="entryBodyFat" step="0.1" min="0" max="100">
          </div>
          <div class="form-group">
            <label for="entryMuscleMass">Svalov√° hmota (%):</label>
            <input type="number" id="entryMuscleMass" step="0.1" min="0">
          </div>
          <div class="form-group">
            <label for="entryBodyWater">Voda v tƒõle (%):</label>
            <input type="number" id="entryBodyWater" step="0.1" min="0" max="100">
          </div>
          <div class="form-group">
            <label for="entryManualBMR">Ruƒçnƒõ zadan√© BMR (kcal):</label>
            <input type="number" id="entryManualBMR" step="1" min="0">
          </div>
          <div class="form-group">
            <label for="entryManualAMR">Ruƒçnƒõ zadan√© AMR (kcal):</label>
            <input type="number" id="entryManualAMR" step="1" min="0">
          </div>
          <div class="form-group">
            <label for="entryNotes">Pozn√°mky:</label>
            <textarea id="entryNotes" rows="3"></textarea>
          </div>
          <button type="submit">P≈ôidat z√°znam</button>
        </form>
      </div>
    </div>

    <div id="goals" class="tab-content">
      <div class="card">
        <h3>Nastaven√≠ c√≠l≈Ø</h3>
        <form id="goalsForm">
          <div class="form-group">
            <label for="targetWeight">C√≠lov√° v√°ha (kg):</label>
            <input type="number" id="targetWeight" step="0.1">
          </div>
          <div class="form-group">
            <label for="targetBMI">C√≠lov√© BMI:</label>
            <input type="number" id="targetBMI" step="0.1">
          </div>
          <div class="form-group">
            <label for="targetDate">Term√≠n splnƒõn√≠ c√≠le:</label>
            <input type="date" id="targetDate">
          </div>
          <div class="form-group">
            <label for="weeklyGoal">T√Ωdenn√≠ zmƒõna v√°hy (kg) (nap≈ô. -0.5 pro hubnut√≠):</label>
            <input type="number" id="weeklyGoal" step="0.1">
          </div>
          <button type="submit">Ulo≈æit c√≠le</button>
        </form>
        
        <div id="recommendations" class="card" style="margin-top: 20px; background: #2a3441;">
          <h3>Doporuƒçen√≠</h3>
          <div id="recommendationText"></div>
        </div>
      </div>
    </div>

    <div id="settings" class="tab-content">
      <div class="dashboard">
        <div class="card">
          <h3>Osobn√≠ √∫daje (pro teoretick√© v√Ωpoƒçty)</h3>
          <form id="settingsForm">
            <div class="form-group">
              <label for="height">V√Ω≈°ka (cm):</label>
              <input type="number" id="height" min="100" max="250" value="">
            </div>
            <div class="form-group">
              <label for="age">Vƒõk:</label>
              <input type="number" id="age" min="1" max="120">
            </div>
            <div class="form-group">
              <label for="gender">Pohlav√≠:</label>
              <select id="gender">
                <option value="male">Mu≈æ</option>
                <option value="female">≈Ωena</option>
              </select>
            </div>
            <div class="form-group">
              <label for="activityLevel">√örove≈à fyzick√© aktivity:</label>
              <select id="activityLevel">
                <option value="1.2">Sedav√© (m√°lo nebo ≈æ√°dn√© cviƒçen√≠)</option>
                <option value="1.375">Lehce aktivn√≠ (cviƒçen√≠ 1-3 dny/t√Ωden)</option>
                <option value="1.55">M√≠rnƒõ aktivn√≠ (cviƒçen√≠ 3-5 dn√≠/t√Ωden)</option>
                <option value="1.725">Velmi aktivn√≠ (cviƒçen√≠ 6-7 dn√≠/t√Ωden)</option>
                <option value="1.9">Extr√©mnƒõ aktivn√≠ (velmi tƒõ≈æk√© cviƒçen√≠, fyzick√° pr√°ce)</option>
              </select>
            </div>
            <button type="submit">Ulo≈æit nastaven√≠</button>
          </form>
        </div>

        <div class="card">
          <h3>BMI hranice</h3>
          <form id="bmiAlertsForm">
            <div class="form-group">
              <label for="bmiWarningUpper">Horn√≠ hranice BMI (varov√°n√≠):</label>
              <input type="number" id="bmiWarningUpper" step="0.1" value="25">
            </div>
            <div class="form-group">
              <label for="bmiDangerUpper">Horn√≠ hranice BMI (nebezpeƒç√≠):</label>
              <input type="number" id="bmiDangerUpper" step="0.1" value="30">
            </div>
            <div class="form-group">
              <label for="bmiWarningLower">Doln√≠ hranice BMI (varov√°n√≠):</label>
              <input type="number" id="bmiWarningLower" step="0.1" value="18.5">
            </div>
            <button type="submit">Ulo≈æit hranice</button>
          </form>
        </div>

        <div class="card">
          <h3>P≈ôipom√≠nky</h3>
          <form id="remindersForm">
            <div class="form-group">
              <label for="reminderEnabled">Povolit p≈ôipom√≠nky:</label>
              <input type="checkbox" id="reminderEnabled" style="width: auto;">
            </div>
            <div class="form-group">
              <label for="reminderInterval">Interval p≈ôipom√≠nek (dny):</label>
              <input type="number" id="reminderInterval" min="1" max="30" value="7">
            </div>
            <button type="submit">Ulo≈æit p≈ôipom√≠nky</button>
          </form>
        </div>
      </div>
    </div>

    <div id="export" class="tab-content">
      <div class="dashboard">
        <div class="card">
          <h3>Export dat</h3>
          <button onclick="exportToCSV()">üìä Export do CSV</button>
          <button onclick="exportToPDF()">üìÑ Export do PDF</button>
          <button onclick="exportChartsAsPDF()">üìà Export graf≈Ø do PDF</button>
          <button onclick="exportBackup()">üíæ √öpln√° z√°loha</button>
        </div>

        <div class="card">
          <h3>Import dat</h3>
          <div class="form-group">
            <label for="csvImport">Import CSV:</label>
            <input type="file" id="csvImport" accept=".csv" onchange="importFromCSV(this)">
          </div>
          <div class="form-group">
            <label for="backupImport">Obnovit ze z√°lohy:</label>
            <input type="file" id="backupImport" accept=".json" onchange="importFromBackup(this)">
          </div>
          <button class="danger" onclick="clearAllData()">üóëÔ∏è Vymazat v≈°echna data</button>
        </div>
      </div>
    </div>
  

   
    





<script src="script.js"></script></body></html>